"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[9172],{3905:function(e,a,t){t.d(a,{Zo:function(){return d},kt:function(){return k}});var r=t(7294);function n(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function o(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,r)}return t}function s(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?o(Object(t),!0).forEach((function(a){n(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function l(e,a){if(null==e)return{};var t,r,n=function(e,a){if(null==e)return{};var t,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],a.indexOf(t)>=0||(n[t]=e[t]);return n}(e,a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}var p=r.createContext({}),i=function(e){var a=r.useContext(p),t=a;return e&&(t="function"==typeof e?e(a):s(s({},a),e)),t},d=function(e){var a=i(e.components);return r.createElement(p.Provider,{value:a},e.children)},c={inlineCode:"code",wrapper:function(e){var a=e.children;return r.createElement(r.Fragment,{},a)}},m=r.forwardRef((function(e,a){var t=e.components,n=e.mdxType,o=e.originalType,p=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),m=i(t),k=n,N=m["".concat(p,".").concat(k)]||m[k]||c[k]||o;return t?r.createElement(N,s(s({ref:a},d),{},{components:t})):r.createElement(N,s({ref:a},d))}));function k(e,a){var t=arguments,n=a&&a.mdxType;if("string"==typeof e||n){var o=t.length,s=new Array(o);s[0]=m;var l={};for(var p in a)hasOwnProperty.call(a,p)&&(l[p]=a[p]);l.originalType=e,l.mdxType="string"==typeof e?e:n,s[1]=l;for(var i=2;i<o;i++)s[i]=t[i];return r.createElement.apply(null,s)}return r.createElement.apply(null,t)}m.displayName="MDXCreateElement"},6372:function(e,a,t){t.r(a),t.d(a,{frontMatter:function(){return l},contentTitle:function(){return p},metadata:function(){return i},toc:function(){return d},default:function(){return m}});var r=t(2122),n=t(9756),o=(t(7294),t(3905)),s=["components"],l={id:"useCheckError",title:"useCheckError",siderbar_label:"useCheckError",description:"useCheckError data hook from refine is a modified version of react-query's useMutation for create mutations"},p=void 0,i={unversionedId:"api-references/hooks/auth/useCheckError",id:"api-references/hooks/auth/useCheckError",isDocsHomePage:!1,title:"useCheckError",description:"useCheckError data hook from refine is a modified version of react-query's useMutation for create mutations",source:"@site/docs/api-references/hooks/auth/useCheckError.md",sourceDirName:"api-references/hooks/auth",slug:"/api-references/hooks/auth/useCheckError",permalink:"/docs/api-references/hooks/auth/useCheckError",editUrl:"https://github.com/pankod/refine/tree/master/documentation/docs/api-references/hooks/auth/useCheckError.md",version:"current",lastUpdatedBy:"\xd6mer Faruk APLAK",lastUpdatedAt:1630934402,formattedLastUpdatedAt:"9/6/2021",frontMatter:{id:"useCheckError",title:"useCheckError",siderbar_label:"useCheckError",description:"useCheckError data hook from refine is a modified version of react-query's useMutation for create mutations"},sidebar:"someSidebar",previous:{title:"useLogout",permalink:"/docs/api-references/hooks/auth/useLogout"},next:{title:"useAuthenticated",permalink:"/docs/api-references/hooks/auth/useAuthenticated"}},d=[{value:"Usage",id:"usage",children:[]},{value:"Redirection after error",id:"redirection-after-error",children:[]}],c={toc:d};function m(e){var a=e.components,t=(0,n.Z)(e,s);return(0,o.kt)("wrapper",(0,r.Z)({},c,t,{components:a,mdxType:"MDXLayout"}),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"useCheckError")," calls the ",(0,o.kt)("inlineCode",{parentName:"p"},"checkError")," method from the ",(0,o.kt)("a",{parentName:"p",href:"/docs/api-references/providers/auth-provider"},(0,o.kt)("inlineCode",{parentName:"a"},"authProvider"))," under the hood.\nIf the ",(0,o.kt)("inlineCode",{parentName:"p"},"checkError")," returns a rejected promise, ",(0,o.kt)("inlineCode",{parentName:"p"},"useCheckError")," calls the the ",(0,o.kt)("inlineCode",{parentName:"p"},"logout")," method of the ",(0,o.kt)("inlineCode",{parentName:"p"},"authProvider")," and the app is unauthenticated."),(0,o.kt)("p",null,"It returns the result of ",(0,o.kt)("inlineCode",{parentName:"p"},"react-query"),"'s ",(0,o.kt)("a",{parentName:"p",href:"https://react-query.tanstack.com/reference/useMutation"},"useMutation"),".\nData that is resolved from the ",(0,o.kt)("inlineCode",{parentName:"p"},"checkError")," will be returned as the ",(0,o.kt)("inlineCode",{parentName:"p"},"data")," in the query result."),(0,o.kt)("h2",{id:"usage"},"Usage"),(0,o.kt)("p",null,"Imagine that we make a payment request which is declined by the API. If error status code is ",(0,o.kt)("inlineCode",{parentName:"p"},"418"),", user will be logged out for security reasons."),(0,o.kt)("div",{className:"shiki-twoslash-fragment"},(0,o.kt)("pre",{parentName:"div",className:"shiki min-light twoslash lsp",style:{backgroundColor:"#ffffff",color:"#24292eff"}},(0,o.kt)("div",{parentName:"pre",className:"language-id"},"tsx"),(0,o.kt)("div",{parentName:"pre",className:"code-container"},(0,o.kt)("code",{parentName:"div"},(0,o.kt)("div",{parentName:"code",className:"line dim"},(0,o.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"import"),(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," { ",(0,o.kt)("data-lsp",{parentName:"span",lsp:"(alias) const useCheckError: () => UseMutationResult<void, string | undefined, any, unknown>\nimport useCheckError"},"useCheckError")," } "),(0,o.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"from"),(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,o.kt)("span",{parentName:"div",style:{color:"#22863A"}},'"@pankod/refine"'),(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},";")),(0,o.kt)("div",{parentName:"code",className:"line dim"},"\xa0"),(0,o.kt)("div",{parentName:"code",className:"line highlight"},(0,o.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"const"),(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," { ",(0,o.kt)("data-lsp",{parentName:"span",lsp:"(property) mutate: UseMutateFunction<void, string | undefined, any, unknown>"},"mutate"),": "),(0,o.kt)("span",{parentName:"div",style:{color:"#1976D2"}},(0,o.kt)("data-lsp",{parentName:"span",lsp:"const checkError: UseMutateFunction<void, string | undefined, any, unknown>"},"checkError")),(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," } "),(0,o.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"="),(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,o.kt)("span",{parentName:"div",style:{color:"#6F42C1"}},(0,o.kt)("data-lsp",{parentName:"span",lsp:"(alias) useCheckError(): UseMutationResult<void, string | undefined, any, unknown>\nimport useCheckError"},"useCheckError")),(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"();")),(0,o.kt)("div",{parentName:"code",className:"line dim"},"\xa0"),(0,o.kt)("div",{parentName:"code",className:"line dim"},(0,o.kt)("span",{parentName:"div",style:{color:"#6F42C1"}},(0,o.kt)("data-lsp",{parentName:"span",lsp:"function fetch(input: RequestInfo, init?: RequestInit | undefined): Promise<Response>"},"fetch")),(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"("),(0,o.kt)("span",{parentName:"div",style:{color:"#22863A"}},"'http://example.com/payment'"),(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},")")),(0,o.kt)("div",{parentName:"code",className:"line dim"},(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"    "),(0,o.kt)("span",{parentName:"div",style:{color:"#6F42C1"}},".",(0,o.kt)("data-lsp",{parentName:"span",lsp:"(method) Promise<Response>.then<void, never>(onfulfilled?: ((value: Response) => void | PromiseLike<void>) | null | undefined, onrejected?: ((reason: any) => PromiseLike<never>) | null | undefined): Promise<...>"},"then")),(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"(() "),(0,o.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"=>"),(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,o.kt)("span",{parentName:"div",style:{color:"#1976D2"}},(0,o.kt)("data-lsp",{parentName:"span",lsp:"var console: Console"},"console")),(0,o.kt)("span",{parentName:"div",style:{color:"#6F42C1"}},".",(0,o.kt)("data-lsp",{parentName:"span",lsp:"(method) Console.log(...data: any[]): void"},"log")),(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"("),(0,o.kt)("span",{parentName:"div",style:{color:"#22863A"}},'"Success"'),(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"))")),(0,o.kt)("div",{parentName:"code",className:"line highlight"},(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"    "),(0,o.kt)("span",{parentName:"div",style:{color:"#6F42C1"}},".",(0,o.kt)("data-lsp",{parentName:"span",lsp:"(method) Promise<void>.catch<void>(onrejected?: ((reason: any) => void | PromiseLike<void>) | null | undefined): Promise<void>"},"catch")),(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"((",(0,o.kt)("data-lsp",{parentName:"span",lsp:"(parameter) error: any"},"error"),") "),(0,o.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"=>"),(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,o.kt)("span",{parentName:"div",style:{color:"#6F42C1"}},(0,o.kt)("data-lsp",{parentName:"span",lsp:"const checkError: (variables: any, options?: MutateOptions<void, string | undefined, any, unknown> | undefined) => void"},"checkError")),(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"(",(0,o.kt)("data-lsp",{parentName:"span",lsp:"(parameter) error: any"},"error"),"));"))))),(0,o.kt)("pre",{parentName:"div",className:"shiki nord twoslash lsp",style:{backgroundColor:"#2e3440ff",color:"#d8dee9ff"}},(0,o.kt)("div",{parentName:"pre",className:"language-id"},"tsx"),(0,o.kt)("div",{parentName:"pre",className:"code-container"},(0,o.kt)("code",{parentName:"div"},(0,o.kt)("div",{parentName:"code",className:"line dim"},(0,o.kt)("span",{parentName:"div",style:{color:"#81A1C1"}},"import"),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,o.kt)("span",{parentName:"div",style:{color:"#ECEFF4"}},"{"),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9"}},(0,o.kt)("data-lsp",{parentName:"span",lsp:"(alias) const useCheckError: () => UseMutationResult<void, string | undefined, any, unknown>\nimport useCheckError"},"useCheckError")),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,o.kt)("span",{parentName:"div",style:{color:"#ECEFF4"}},"}"),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,o.kt)("span",{parentName:"div",style:{color:"#81A1C1"}},"from"),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,o.kt)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,o.kt)("span",{parentName:"div",style:{color:"#A3BE8C"}},"@pankod/refine"),(0,o.kt)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,o.kt)("span",{parentName:"div",style:{color:"#81A1C1"}},";")),(0,o.kt)("div",{parentName:"code",className:"line dim"},"\xa0"),(0,o.kt)("div",{parentName:"code",className:"line highlight"},(0,o.kt)("span",{parentName:"div",style:{color:"#81A1C1"}},"const"),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,o.kt)("span",{parentName:"div",style:{color:"#ECEFF4"}},"{"),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," ",(0,o.kt)("data-lsp",{parentName:"span",lsp:"(property) mutate: UseMutateFunction<void, string | undefined, any, unknown>"},"mutate")),(0,o.kt)("span",{parentName:"div",style:{color:"#ECEFF4"}},":"),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9"}},(0,o.kt)("data-lsp",{parentName:"span",lsp:"const checkError: UseMutateFunction<void, string | undefined, any, unknown>"},"checkError")),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,o.kt)("span",{parentName:"div",style:{color:"#ECEFF4"}},"}"),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,o.kt)("span",{parentName:"div",style:{color:"#81A1C1"}},"="),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,o.kt)("span",{parentName:"div",style:{color:"#88C0D0"}},(0,o.kt)("data-lsp",{parentName:"span",lsp:"(alias) useCheckError(): UseMutationResult<void, string | undefined, any, unknown>\nimport useCheckError"},"useCheckError")),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"()"),(0,o.kt)("span",{parentName:"div",style:{color:"#81A1C1"}},";")),(0,o.kt)("div",{parentName:"code",className:"line dim"},"\xa0"),(0,o.kt)("div",{parentName:"code",className:"line dim"},(0,o.kt)("span",{parentName:"div",style:{color:"#88C0D0"}},(0,o.kt)("data-lsp",{parentName:"span",lsp:"function fetch(input: RequestInfo, init?: RequestInit | undefined): Promise<Response>"},"fetch")),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"("),(0,o.kt)("span",{parentName:"div",style:{color:"#ECEFF4"}},"'"),(0,o.kt)("span",{parentName:"div",style:{color:"#A3BE8C"}},"http://example.com/payment"),(0,o.kt)("span",{parentName:"div",style:{color:"#ECEFF4"}},"'"),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},")")),(0,o.kt)("div",{parentName:"code",className:"line dim"},(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"    "),(0,o.kt)("span",{parentName:"div",style:{color:"#ECEFF4"}},"."),(0,o.kt)("span",{parentName:"div",style:{color:"#88C0D0"}},(0,o.kt)("data-lsp",{parentName:"span",lsp:"(method) Promise<Response>.then<void, never>(onfulfilled?: ((value: Response) => void | PromiseLike<void>) | null | undefined, onrejected?: ((reason: any) => PromiseLike<never>) | null | undefined): Promise<...>"},"then")),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"("),(0,o.kt)("span",{parentName:"div",style:{color:"#ECEFF4"}},"()"),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,o.kt)("span",{parentName:"div",style:{color:"#81A1C1"}},"=>"),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9"}},(0,o.kt)("data-lsp",{parentName:"span",lsp:"var console: Console"},"console")),(0,o.kt)("span",{parentName:"div",style:{color:"#ECEFF4"}},"."),(0,o.kt)("span",{parentName:"div",style:{color:"#88C0D0"}},(0,o.kt)("data-lsp",{parentName:"span",lsp:"(method) Console.log(...data: any[]): void"},"log")),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"("),(0,o.kt)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,o.kt)("span",{parentName:"div",style:{color:"#A3BE8C"}},"Success"),(0,o.kt)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"))")),(0,o.kt)("div",{parentName:"code",className:"line highlight"},(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"    "),(0,o.kt)("span",{parentName:"div",style:{color:"#ECEFF4"}},"."),(0,o.kt)("span",{parentName:"div",style:{color:"#88C0D0"}},(0,o.kt)("data-lsp",{parentName:"span",lsp:"(method) Promise<void>.catch<void>(onrejected?: ((reason: any) => void | PromiseLike<void>) | null | undefined): Promise<void>"},"catch")),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"("),(0,o.kt)("span",{parentName:"div",style:{color:"#ECEFF4"}},"("),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9"}},(0,o.kt)("data-lsp",{parentName:"span",lsp:"(parameter) error: any"},"error")),(0,o.kt)("span",{parentName:"div",style:{color:"#ECEFF4"}},")"),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,o.kt)("span",{parentName:"div",style:{color:"#81A1C1"}},"=>"),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,o.kt)("span",{parentName:"div",style:{color:"#88C0D0"}},(0,o.kt)("data-lsp",{parentName:"span",lsp:"const checkError: (variables: any, options?: MutateOptions<void, string | undefined, any, unknown> | undefined) => void"},"checkError")),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"("),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9"}},(0,o.kt)("data-lsp",{parentName:"span",lsp:"(parameter) error: any"},"error")),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"))"),(0,o.kt)("span",{parentName:"div",style:{color:"#81A1C1"}},";")))))),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Any error passed to ",(0,o.kt)("inlineCode",{parentName:"p"},"mutate")," function will be available in the ",(0,o.kt)("inlineCode",{parentName:"p"},"checkError")," in the ",(0,o.kt)("inlineCode",{parentName:"p"},"authProvider"),".")),(0,o.kt)("br",null),(0,o.kt)("p",null,"We have a logic in ",(0,o.kt)("a",{parentName:"p",href:"/docs/api-references/providers/auth-provider"},(0,o.kt)("inlineCode",{parentName:"a"},"authProvider")),"'s ",(0,o.kt)("inlineCode",{parentName:"p"},"checkError")," method like below."),(0,o.kt)("div",{className:"shiki-twoslash-fragment"},(0,o.kt)("pre",{parentName:"div",className:"shiki min-light",style:{backgroundColor:"#ffffff",color:"#24292eff"}},(0,o.kt)("div",{parentName:"pre",className:"language-id"},"tsx"),(0,o.kt)("div",{parentName:"pre",className:"code-container"},(0,o.kt)("code",{parentName:"div"},(0,o.kt)("div",{parentName:"code",className:"line dim"},(0,o.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"const"),(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,o.kt)("span",{parentName:"div",style:{color:"#1976D2"}},"authProvider"),(0,o.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},":"),(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,o.kt)("span",{parentName:"div",style:{color:"#6F42C1"}},"AuthProvider"),(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,o.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"="),(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," {")),(0,o.kt)("div",{parentName:"code",className:"line dim"},(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"    "),(0,o.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"...")),(0,o.kt)("div",{parentName:"code",className:"line dim"},(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"    logout: () "),(0,o.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"=>"),(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," {")),(0,o.kt)("div",{parentName:"code",className:"line dim"},(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"        "),(0,o.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"...")),(0,o.kt)("div",{parentName:"code",className:"line dim"},(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"        "),(0,o.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"return"),(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,o.kt)("span",{parentName:"div",style:{color:"#1976D2"}},"Promise"),(0,o.kt)("span",{parentName:"div",style:{color:"#6F42C1"}},".resolve"),(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"();")),(0,o.kt)("div",{parentName:"code",className:"line dim"},(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"    },")),(0,o.kt)("div",{parentName:"code",className:"line highlight"},(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"    "),(0,o.kt)("span",{parentName:"div",style:{color:"#6F42C1"}},"checkError"),(0,o.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},":"),(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," (error) "),(0,o.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"=>"),(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," {")),(0,o.kt)("div",{parentName:"code",className:"line highlight"},(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"        "),(0,o.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"const"),(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,o.kt)("span",{parentName:"div",style:{color:"#1976D2"}},"status"),(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,o.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"="),(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,o.kt)("span",{parentName:"div",style:{color:"#1976D2"}},"error"),(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},".status;")),(0,o.kt)("div",{parentName:"code",className:"line highlight"},(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"        "),(0,o.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"if"),(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," (status "),(0,o.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"==="),(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,o.kt)("span",{parentName:"div",style:{color:"#1976D2"}},"418"),(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},") {")),(0,o.kt)("div",{parentName:"code",className:"line highlight"},(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"            "),(0,o.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"return"),(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,o.kt)("span",{parentName:"div",style:{color:"#1976D2"}},"Promise"),(0,o.kt)("span",{parentName:"div",style:{color:"#6F42C1"}},".reject"),(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"();")),(0,o.kt)("div",{parentName:"code",className:"line highlight"},(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"        }")),(0,o.kt)("div",{parentName:"code",className:"line highlight"},(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"        "),(0,o.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"return"),(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,o.kt)("span",{parentName:"div",style:{color:"#1976D2"}},"Promise"),(0,o.kt)("span",{parentName:"div",style:{color:"#6F42C1"}},".resolve"),(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"();")),(0,o.kt)("div",{parentName:"code",className:"line highlight"},(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"    },")),(0,o.kt)("div",{parentName:"code",className:"line dim"},(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"   "),(0,o.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"...")),(0,o.kt)("div",{parentName:"code",className:"line dim"},(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"};"))))),(0,o.kt)("pre",{parentName:"div",className:"shiki nord",style:{backgroundColor:"#2e3440ff",color:"#d8dee9ff"}},(0,o.kt)("div",{parentName:"pre",className:"language-id"},"tsx"),(0,o.kt)("div",{parentName:"pre",className:"code-container"},(0,o.kt)("code",{parentName:"div"},(0,o.kt)("div",{parentName:"code",className:"line dim"},(0,o.kt)("span",{parentName:"div",style:{color:"#81A1C1"}},"const"),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9"}},"authProvider"),(0,o.kt)("span",{parentName:"div",style:{color:"#81A1C1"}},":"),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,o.kt)("span",{parentName:"div",style:{color:"#8FBCBB"}},"AuthProvider"),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,o.kt)("span",{parentName:"div",style:{color:"#81A1C1"}},"="),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,o.kt)("span",{parentName:"div",style:{color:"#ECEFF4"}},"{")),(0,o.kt)("div",{parentName:"code",className:"line dim"},(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"    "),(0,o.kt)("span",{parentName:"div",style:{color:"#81A1C1"}},"...")),(0,o.kt)("div",{parentName:"code",className:"line dim"},(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"    "),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9"}},"logout"),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},": "),(0,o.kt)("span",{parentName:"div",style:{color:"#ECEFF4"}},"()"),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,o.kt)("span",{parentName:"div",style:{color:"#81A1C1"}},"=>"),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,o.kt)("span",{parentName:"div",style:{color:"#ECEFF4"}},"{")),(0,o.kt)("div",{parentName:"code",className:"line dim"},(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"        "),(0,o.kt)("span",{parentName:"div",style:{color:"#81A1C1"}},"...")),(0,o.kt)("div",{parentName:"code",className:"line dim"},(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"        "),(0,o.kt)("span",{parentName:"div",style:{color:"#81A1C1"}},"return"),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,o.kt)("span",{parentName:"div",style:{color:"#8FBCBB"}},"Promise"),(0,o.kt)("span",{parentName:"div",style:{color:"#ECEFF4"}},"."),(0,o.kt)("span",{parentName:"div",style:{color:"#88C0D0"}},"resolve"),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"()"),(0,o.kt)("span",{parentName:"div",style:{color:"#81A1C1"}},";")),(0,o.kt)("div",{parentName:"code",className:"line dim"},(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"    "),(0,o.kt)("span",{parentName:"div",style:{color:"#ECEFF4"}},"},")),(0,o.kt)("div",{parentName:"code",className:"line highlight"},(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"    "),(0,o.kt)("span",{parentName:"div",style:{color:"#88C0D0"}},"checkError"),(0,o.kt)("span",{parentName:"div",style:{color:"#ECEFF4"}},":"),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,o.kt)("span",{parentName:"div",style:{color:"#ECEFF4"}},"("),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9"}},"error"),(0,o.kt)("span",{parentName:"div",style:{color:"#ECEFF4"}},")"),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,o.kt)("span",{parentName:"div",style:{color:"#81A1C1"}},"=>"),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,o.kt)("span",{parentName:"div",style:{color:"#ECEFF4"}},"{")),(0,o.kt)("div",{parentName:"code",className:"line highlight"},(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"        "),(0,o.kt)("span",{parentName:"div",style:{color:"#81A1C1"}},"const"),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9"}},"status"),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,o.kt)("span",{parentName:"div",style:{color:"#81A1C1"}},"="),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9"}},"error"),(0,o.kt)("span",{parentName:"div",style:{color:"#ECEFF4"}},"."),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9"}},"status"),(0,o.kt)("span",{parentName:"div",style:{color:"#81A1C1"}},";")),(0,o.kt)("div",{parentName:"code",className:"line highlight"},(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"        "),(0,o.kt)("span",{parentName:"div",style:{color:"#81A1C1"}},"if"),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," ("),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9"}},"status"),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,o.kt)("span",{parentName:"div",style:{color:"#81A1C1"}},"==="),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,o.kt)("span",{parentName:"div",style:{color:"#B48EAD"}},"418"),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},") "),(0,o.kt)("span",{parentName:"div",style:{color:"#ECEFF4"}},"{")),(0,o.kt)("div",{parentName:"code",className:"line highlight"},(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"            "),(0,o.kt)("span",{parentName:"div",style:{color:"#81A1C1"}},"return"),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,o.kt)("span",{parentName:"div",style:{color:"#8FBCBB"}},"Promise"),(0,o.kt)("span",{parentName:"div",style:{color:"#ECEFF4"}},"."),(0,o.kt)("span",{parentName:"div",style:{color:"#88C0D0"}},"reject"),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"()"),(0,o.kt)("span",{parentName:"div",style:{color:"#81A1C1"}},";")),(0,o.kt)("div",{parentName:"code",className:"line highlight"},(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"        "),(0,o.kt)("span",{parentName:"div",style:{color:"#ECEFF4"}},"}")),(0,o.kt)("div",{parentName:"code",className:"line highlight"},(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"        "),(0,o.kt)("span",{parentName:"div",style:{color:"#81A1C1"}},"return"),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,o.kt)("span",{parentName:"div",style:{color:"#8FBCBB"}},"Promise"),(0,o.kt)("span",{parentName:"div",style:{color:"#ECEFF4"}},"."),(0,o.kt)("span",{parentName:"div",style:{color:"#88C0D0"}},"resolve"),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"()"),(0,o.kt)("span",{parentName:"div",style:{color:"#81A1C1"}},";")),(0,o.kt)("div",{parentName:"code",className:"line highlight"},(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"    "),(0,o.kt)("span",{parentName:"div",style:{color:"#ECEFF4"}},"},")),(0,o.kt)("div",{parentName:"code",className:"line dim"},(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"   "),(0,o.kt)("span",{parentName:"div",style:{color:"#81A1C1"}},"...")),(0,o.kt)("div",{parentName:"code",className:"line dim"},(0,o.kt)("span",{parentName:"div",style:{color:"#ECEFF4"}},"}"),(0,o.kt)("span",{parentName:"div",style:{color:"#81A1C1"}},";")))))),(0,o.kt)("br",null),(0,o.kt)("h2",{id:"redirection-after-error"},"Redirection after error"),(0,o.kt)("p",null,"We have 2 options to manage redirection after logout process."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"If promise returned from ",(0,o.kt)("inlineCode",{parentName:"p"},"checkError")," is rejected with nothing, app will be redirected to ",(0,o.kt)("inlineCode",{parentName:"p"},"/login")," route by default. ")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"The promise returned from ",(0,o.kt)("inlineCode",{parentName:"p"},"checkError")," method of ",(0,o.kt)("a",{parentName:"p",href:"/docs/api-references/providers/auth-provider"},(0,o.kt)("inlineCode",{parentName:"a"},"authProvider"))," can reject with a custom url instead."))),(0,o.kt)("div",{className:"shiki-twoslash-fragment"},(0,o.kt)("pre",{parentName:"div",className:"shiki min-light",style:{backgroundColor:"#ffffff",color:"#24292eff"}},(0,o.kt)("div",{parentName:"pre",className:"language-id"},"tsx"),(0,o.kt)("div",{parentName:"pre",className:"code-container"},(0,o.kt)("code",{parentName:"div"},(0,o.kt)("div",{parentName:"code",className:"line"},(0,o.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"const"),(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,o.kt)("span",{parentName:"div",style:{color:"#1976D2"}},"authProvider"),(0,o.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},":"),(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,o.kt)("span",{parentName:"div",style:{color:"#6F42C1"}},"AuthProvider"),(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,o.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"="),(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," {")),(0,o.kt)("div",{parentName:"code",className:"line"},(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"    "),(0,o.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"...")),(0,o.kt)("div",{parentName:"code",className:"line"},(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"    checkError: () "),(0,o.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"=>"),(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," {")),(0,o.kt)("div",{parentName:"code",className:"line"},(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"        "),(0,o.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"...")),(0,o.kt)("div",{parentName:"code",className:"line"},(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"        "),(0,o.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"return"),(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,o.kt)("span",{parentName:"div",style:{color:"#1976D2"}},"Promise"),(0,o.kt)("span",{parentName:"div",style:{color:"#6F42C1"}},".reject"),(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"("),(0,o.kt)("span",{parentName:"div",style:{color:"#22863A"}},'"/custom-url"'),(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},");")),(0,o.kt)("div",{parentName:"code",className:"line"},(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"    }")),(0,o.kt)("div",{parentName:"code",className:"line"},(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"}"))))),(0,o.kt)("pre",{parentName:"div",className:"shiki nord",style:{backgroundColor:"#2e3440ff",color:"#d8dee9ff"}},(0,o.kt)("div",{parentName:"pre",className:"language-id"},"tsx"),(0,o.kt)("div",{parentName:"pre",className:"code-container"},(0,o.kt)("code",{parentName:"div"},(0,o.kt)("div",{parentName:"code",className:"line"},(0,o.kt)("span",{parentName:"div",style:{color:"#81A1C1"}},"const"),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9"}},"authProvider"),(0,o.kt)("span",{parentName:"div",style:{color:"#81A1C1"}},":"),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,o.kt)("span",{parentName:"div",style:{color:"#8FBCBB"}},"AuthProvider"),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,o.kt)("span",{parentName:"div",style:{color:"#81A1C1"}},"="),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,o.kt)("span",{parentName:"div",style:{color:"#ECEFF4"}},"{")),(0,o.kt)("div",{parentName:"code",className:"line"},(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"    "),(0,o.kt)("span",{parentName:"div",style:{color:"#81A1C1"}},"...")),(0,o.kt)("div",{parentName:"code",className:"line"},(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"    "),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9"}},"checkError"),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},": "),(0,o.kt)("span",{parentName:"div",style:{color:"#ECEFF4"}},"()"),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,o.kt)("span",{parentName:"div",style:{color:"#81A1C1"}},"=>"),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,o.kt)("span",{parentName:"div",style:{color:"#ECEFF4"}},"{")),(0,o.kt)("div",{parentName:"code",className:"line"},(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"        "),(0,o.kt)("span",{parentName:"div",style:{color:"#81A1C1"}},"...")),(0,o.kt)("div",{parentName:"code",className:"line"},(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"        "),(0,o.kt)("span",{parentName:"div",style:{color:"#81A1C1"}},"return"),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,o.kt)("span",{parentName:"div",style:{color:"#8FBCBB"}},"Promise"),(0,o.kt)("span",{parentName:"div",style:{color:"#ECEFF4"}},"."),(0,o.kt)("span",{parentName:"div",style:{color:"#88C0D0"}},"reject"),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"("),(0,o.kt)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,o.kt)("span",{parentName:"div",style:{color:"#A3BE8C"}},"/custom-url"),(0,o.kt)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},")"),(0,o.kt)("span",{parentName:"div",style:{color:"#81A1C1"}},";")),(0,o.kt)("div",{parentName:"code",className:"line"},(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"    "),(0,o.kt)("span",{parentName:"div",style:{color:"#ECEFF4"}},"}")),(0,o.kt)("div",{parentName:"code",className:"line"},(0,o.kt)("span",{parentName:"div",style:{color:"#ECEFF4"}},"}")))))),(0,o.kt)("br",null),(0,o.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"This hook can only be used if the ",(0,o.kt)("inlineCode",{parentName:"p"},"authProvider")," is provided."))))}m.isMDXComponent=!0}}]);