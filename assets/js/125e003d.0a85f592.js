"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[3790],{3905:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return u}});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=a.createContext({}),d=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=d(e.components);return a.createElement(l.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),m=d(n),u=r,h=m["".concat(l,".").concat(u)]||m[u]||c[u]||i;return n?a.createElement(h,o(o({ref:t},p),{},{components:n})):a.createElement(h,o({ref:t},p))}));function u(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:r,o[1]=s;for(var d=2;d<i;d++)o[d]=n[d];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},18513:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return p},contentTitle:function(){return c},metadata:function(){return m},toc:function(){return u},default:function(){return k}});var a=n(22122),r=n(19756),i=(n(67294),n(3905)),o=n(38047),s=n(80133),l=n(55206),d=["components"],p={id:"auth-provider",title:"Auth Provider",sidebar_label:"Auth Provider"},c=void 0,m={unversionedId:"api-references/providers/auth-provider",id:"api-references/providers/auth-provider",isDocsHomePage:!1,title:"Auth Provider",description:"refine let's you set authentication logic by providing the authProvider property to the `` component.",source:"@site/docs/api-references/providers/auth-provider.md",sourceDirName:"api-references/providers",slug:"/api-references/providers/auth-provider",permalink:"/docs/next/api-references/providers/auth-provider",editUrl:"https://github.com/pankod/refine/tree/master/documentation/docs/api-references/providers/auth-provider.md",version:"current",lastUpdatedBy:"\xd6mer Faruk APLAK",lastUpdatedAt:1636468358,formattedLastUpdatedAt:"11/9/2021",frontMatter:{id:"auth-provider",title:"Auth Provider",sidebar_label:"Auth Provider"},sidebar:"someSidebar",previous:{title:"Tutorial",permalink:"/docs/next/"},next:{title:"Data Provider",permalink:"/docs/next/api-references/providers/data-provider"}},u=[{value:"Usage",id:"usage",children:[]},{value:"Creating an <code>authProvider</code>",id:"creating-an-authprovider",children:[{value:"<code>login</code>",id:"login",children:[]},{value:"<code>logout</code>",id:"logout",children:[]},{value:"<code>checkError</code>",id:"checkerror",children:[]},{value:"<code>checkAuth</code>",id:"checkauth",children:[]},{value:"<code>getPermissions</code>",id:"getpermissions",children:[]},{value:"<code>getUserIdentity</code>",id:"getuseridentity",children:[]}]},{value:"Setting Authorization Credentials",id:"setting-authorization-credentials",children:[]},{value:"Hooks and Components",id:"hooks-and-components",children:[]},{value:"API Reference",id:"api-reference",children:[{value:"Properties",id:"properties",children:[]}]},{value:"Live Codesandbox Example",id:"live-codesandbox-example",children:[]}],h={toc:u};function k(e){var t=e.components,n=(0,r.Z)(e,d);return(0,i.kt)("wrapper",(0,a.Z)({},h,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"refine")," let's you set authentication logic by providing the ",(0,i.kt)("inlineCode",{parentName:"p"},"authProvider")," property to the ",(0,i.kt)("inlineCode",{parentName:"p"},"<Refine>")," component."),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"authProvider")," is an object with methods that ",(0,i.kt)("strong",{parentName:"p"},"refine")," uses when necessary. These methods are needed to return a Promise. They also can be accessed with specialized hooks."),(0,i.kt)("p",null,"An auth provider must include following methods:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx"},"const authProvider = {\n    login: () => Promise.resolve(),\n    logout: () => Promise.resolve(),\n    checkAuth: () => Promise.resolve(),\n    checkError: () => Promise.resolve(),\n    getPermissions: () => Promise.resolve(),\n    getUserIdentity: () => Promise.resolve(),\n};\n")),(0,i.kt)("div",{className:"admonition admonition-important alert alert--info"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"important")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},(0,i.kt)("strong",{parentName:"p"},"refine")," consumes these methods using ",(0,i.kt)("a",{parentName:"p",href:"/docs/next/api-references/hooks/auth/useLogin"},"authorization hooks"),".\nAuthorization hooks are used to manage authentication and authorization operations like login, logout and catching ",(0,i.kt)("strong",{parentName:"p"},"HTTP")," errors etc."))),(0,i.kt)("h2",{id:"usage"},"Usage"),(0,i.kt)("p",null,"To use ",(0,i.kt)("inlineCode",{parentName:"p"},"authProvider")," in ",(0,i.kt)("strong",{parentName:"p"},"refine"),", we have to pass the ",(0,i.kt)("inlineCode",{parentName:"p"},"authProvider")," to the ",(0,i.kt)("inlineCode",{parentName:"p"},"<Refine />")," component."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="App.tsx"',title:'"App.tsx"'},'import { Refine } from "@pankod/refine";\nimport routerProvider from "@pankod/refine-react-router";\nimport dataProvider from "@pankod/refine-simple-rest";\n\n// highlight-next-line\nimport authProvider from "./auth-provider";\n\nconst API_URL = "https://api.fake-rest.refine.dev";\n\nconst App = () => {\n    return (\n        <Refine\n            // highlight-next-line\n            authProvider={authProvider}\n            routerProvider={routerProvider}\n            dataProvider={dataProvider(API_URL)}\n        />\n    );\n};\n')),(0,i.kt)("p",null,"By default, ",(0,i.kt)("strong",{parentName:"p"},"refine")," doesn't require authentication configuration."),(0,i.kt)("p",null,"If an ",(0,i.kt)("inlineCode",{parentName:"p"},"authProvider")," property is not provided, ",(0,i.kt)("strong",{parentName:"p"},"refine")," will use the default ",(0,i.kt)("inlineCode",{parentName:"p"},"authProvider"),". This default ",(0,i.kt)("inlineCode",{parentName:"p"},"authProvider")," lets the app work without an authentication requirement.",(0,i.kt)("br",{parentName:"p"}),"\n","If your app doesn't require authentication, no further setup is necessary for the app to work."),(0,i.kt)("h2",{id:"creating-an-authprovider"},"Creating an ",(0,i.kt)("inlineCode",{parentName:"h2"},"authProvider")),(0,i.kt)("p",null,"We will build a simple ",(0,i.kt)("inlineCode",{parentName:"p"},"authProvider")," from scratch to show the logic of how ",(0,i.kt)("inlineCode",{parentName:"p"},"authProvider")," methods interact with the app."),(0,i.kt)("h3",{id:"login"},(0,i.kt)("inlineCode",{parentName:"h3"},"login")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"refine")," expects this method to return a resolved Promise if the login is successful, and a rejected Promise if it is not."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"If the login is successful, pages that require authentication becomes accessible.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"If the login fails, ",(0,i.kt)("strong",{parentName:"p"},"refine")," displays an error notification to the user."))),(0,i.kt)("br",null),(0,i.kt)("p",null,"Here we show an example ",(0,i.kt)("inlineCode",{parentName:"p"},"login")," method that stores auth data in ",(0,i.kt)("inlineCode",{parentName:"p"},"localStorage"),".\nFor the sake of simplicity, we'll use mock data and check the user credentials from local storage."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="auth-provider.ts"',title:'"auth-provider.ts"'},'// highlight-next-line\nconst mockUsers = [{ username: "admin" }, { username: "editor" }];\n\nconst authProvider = {\n    // highlight-start\n    login: ({ username, password, remember }) => {\n        // Suppose we actually send a request to the back end here.\n        const user = mockUsers.find((item) => item.username === username);\n\n        if (user) {\n            localStorage.setItem("auth", JSON.stringify(user));\n            return Promise.resolve();\n        }\n\n        return Promise.reject();\n    },\n    // highlight-end\n};\n')),(0,i.kt)("br",null),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"login")," method will be accessible via ",(0,i.kt)("inlineCode",{parentName:"p"},"useLogin")," auth hook."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx"},'import { useLogin } from "@pankod/refine";\n\nconst { mutate: login } = useLogin();\n\nlogin(values);\n')),(0,i.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},(0,i.kt)("inlineCode",{parentName:"p"},"mutate")," acquired from ",(0,i.kt)("inlineCode",{parentName:"p"},"useLogin")," can accept any kind of object for values since ",(0,i.kt)("inlineCode",{parentName:"p"},"login")," method from ",(0,i.kt)("inlineCode",{parentName:"p"},"authProvider")," does not have a restriction on its parameters.",(0,i.kt)("br",{parentName:"p"}),"\n","A type parameter for the values can be provided to ",(0,i.kt)("inlineCode",{parentName:"p"},"useLogin"),"."),(0,i.kt)("pre",{parentName:"div"},(0,i.kt)("code",{parentName:"pre",className:"language-tsx"},"const { mutate: login } =\n    useLogin<{ username: string; password: string; remember: boolean }>();\n")))),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},(0,i.kt)("a",{parentName:"p",href:"/docs/next/api-references/hooks/auth/useLogin"},"Refer to useLogin documentation for more information. ","\u2192"))),(0,i.kt)("br",null),(0,i.kt)("h4",{id:"default-login-page"},"Default login page"),(0,i.kt)("p",null,"If an ",(0,i.kt)("inlineCode",{parentName:"p"},"authProvider")," is given, refine shows a default login page on ",(0,i.kt)("inlineCode",{parentName:"p"},'"/"')," and ",(0,i.kt)("inlineCode",{parentName:"p"},'"/login"')," routes and a login form if a custom ",(0,i.kt)("inlineCode",{parentName:"p"},"LoginPage")," is not provided.\nRest of the app won't be accessible until successful authentication.",(0,i.kt)("br",{parentName:"p"}),"\n","After submission, login form calls the ",(0,i.kt)("inlineCode",{parentName:"p"},"login")," method from ",(0,i.kt)("inlineCode",{parentName:"p"},"authProvider"),"."),(0,i.kt)("br",null),(0,i.kt)("div",{class:"img-container"},(0,i.kt)("div",{class:"window"},(0,i.kt)("div",{class:"control red"}),(0,i.kt)("div",{class:"control orange"}),(0,i.kt)("div",{class:"control green"})),(0,i.kt)("img",{src:o.Z,alt:"Default Login Page"})),(0,i.kt)("br",null),(0,i.kt)("br",null),(0,i.kt)("div",{className:"admonition admonition-important alert alert--info"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"important")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"If an ",(0,i.kt)("inlineCode",{parentName:"p"},"authProvider")," is given, ",(0,i.kt)("inlineCode",{parentName:"p"},"resources")," passed to ",(0,i.kt)("inlineCode",{parentName:"p"},"<Refine>")," as propery are only accessible if the login is successful. if no ",(0,i.kt)("inlineCode",{parentName:"p"},"authProvider")," was provided, they are accessible without authentication.  "))),(0,i.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},(0,i.kt)("a",{parentName:"p",href:"/docs/next/examples/customization/customLogin"},"Refer to example on how to customize the default login page.","\u2192")))),(0,i.kt)("br",null),(0,i.kt)("h3",{id:"logout"},(0,i.kt)("inlineCode",{parentName:"h3"},"logout")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"refine")," expects this method to return a resolved Promise if the logout is successful, and a rejected Promise if it is not."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"If the logout is successful, pages that requires authentication becomes unaccessible.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"If the logout fails, ",(0,i.kt)("strong",{parentName:"p"},"refine")," displays an error notification to the user."))),(0,i.kt)("br",null),(0,i.kt)("p",null,"Here we show an example ",(0,i.kt)("inlineCode",{parentName:"p"},"logout")," that removes auth data from local storage and returns a resolved promise."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="auth-provider.ts"',title:'"auth-provider.ts"'},'const authProvider = {\n    ...\n// highlight-start\n    logout: () => {\n        localStorage.removeItem("auth");\n        return Promise.resolve();\n    }\n// highlight-end\n    ...\n}\n')),(0,i.kt)("br",null),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"logout")," method will be accessible via the ",(0,i.kt)("inlineCode",{parentName:"p"},"useLogout")," auth hook."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx"},'import { useLogout } from "@pankod/refine";\n\nconst { mutate: logout } = useLogout();\n\nlogout();\n')),(0,i.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},(0,i.kt)("inlineCode",{parentName:"p"},"mutate")," acquired from ",(0,i.kt)("inlineCode",{parentName:"p"},"useLogout")," can accept any kind of object for values since ",(0,i.kt)("inlineCode",{parentName:"p"},"logout")," method from ",(0,i.kt)("inlineCode",{parentName:"p"},"authProvider")," doesn't have a restriction on its parameters.  "))),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},(0,i.kt)("a",{parentName:"p",href:"/docs/next/api-references/hooks/auth/useLogout"},"Refer to useLogout documentation for more information. ","\u2192"))),(0,i.kt)("br",null),(0,i.kt)("h4",{id:"default-logout-button"},"Default logout button"),(0,i.kt)("p",null,"If authentication is enabled, a logout button appears at the bottom of the side bar menu. When the button is clicked, ",(0,i.kt)("inlineCode",{parentName:"p"},"logout")," method from ",(0,i.kt)("inlineCode",{parentName:"p"},"authProvider")," is called."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"refine")," redirects the app to ",(0,i.kt)("inlineCode",{parentName:"p"},"/login")," route by default."),(0,i.kt)("br",null),(0,i.kt)("div",{class:"img-container"},(0,i.kt)("div",{class:"window"},(0,i.kt)("div",{class:"control red"}),(0,i.kt)("div",{class:"control orange"}),(0,i.kt)("div",{class:"control green"})),(0,i.kt)("img",{src:s.Z,alt:"Logout Action"})),(0,i.kt)("br",null),(0,i.kt)("h4",{id:"redirection-after-logout"},"Redirection after logout"),(0,i.kt)("p",null,"Redirection url can be customized by returning a route string, or false to disable redirection after logout."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx"},'const authProvider = {\n    ...\n    logout: () => {\n        localStorage.removeItem("auth");\n// highlight-next-line\n        return Promise.resolve("custom-url");\n    }\n}\n')),(0,i.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"Current authentication data needs to be cleaned by the ",(0,i.kt)("inlineCode",{parentName:"p"},"logout")," method. For example, if a token is stored in local storage, ",(0,i.kt)("inlineCode",{parentName:"p"},"logout")," must remove it as shown above."))),(0,i.kt)("br",null),(0,i.kt)("h3",{id:"checkerror"},(0,i.kt)("inlineCode",{parentName:"h3"},"checkError")),(0,i.kt)("p",null,"When a ",(0,i.kt)("a",{parentName:"p",href:"/docs/next/api-references/providers/data-provider"},(0,i.kt)("inlineCode",{parentName:"a"},"dataProvider"))," method returns an error, ",(0,i.kt)("inlineCode",{parentName:"p"},"checkError")," is called with the error object.",(0,i.kt)("br",{parentName:"p"}),"\n","If ",(0,i.kt)("inlineCode",{parentName:"p"},"checkError")," returns a rejected promise, the ",(0,i.kt)("inlineCode",{parentName:"p"},"logout")," method is called and user becomes unauthorized and gets redirected to ",(0,i.kt)("inlineCode",{parentName:"p"},"/login")," page by default."),(0,i.kt)("p",null,"In this example, we log the user out when ",(0,i.kt)("strong",{parentName:"p"},"HTTP")," error status code is ",(0,i.kt)("inlineCode",{parentName:"p"},"401"),".",(0,i.kt)("br",{parentName:"p"}),"\n","You can decide, depending on any error status code you want to check, if the users continue to process by returning a resolved promise or if they are logged out for rejecting the promise."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="auth-provider.ts"',title:'"auth-provider.ts"'},'const authProvider = {\n    ...\n    logout: () => {\n        localStorage.removeItem("auth");\n        return Promise.resolve();\n    },\n// highlight-start\n    checkError: (error) => {\n        if (error.status === 401) {\n            return Promise.reject();\n        }\n        return Promise.resolve();\n    },\n// highlight-end\n   ...\n};\n')),(0,i.kt)("br",null),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"checkError")," method will be accessible via the ",(0,i.kt)("inlineCode",{parentName:"p"},"useCheckError")," auth hook."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx"},'import { useCheckError } from "@pankod/refine";\n\nconst { mutate: checkError } = useCheckError();\n\ncheckError(error);\n')),(0,i.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},(0,i.kt)("inlineCode",{parentName:"p"},"mutate")," acquired from ",(0,i.kt)("inlineCode",{parentName:"p"},"useLogout")," can accept any kind of object for values since ",(0,i.kt)("inlineCode",{parentName:"p"},"logout")," method from ",(0,i.kt)("inlineCode",{parentName:"p"},"authProvider")," doesn't have a restriction on its parameters.  "))),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},(0,i.kt)("a",{parentName:"p",href:"/docs/next/api-references/hooks/auth/useCheckError"},"Refer to useCheckError documentation for more information. ","\u2192"))),(0,i.kt)("br",null),(0,i.kt)("h4",{id:"redirection-after-error"},"Redirection after error"),(0,i.kt)("p",null,"You can override the default redirection by giving a path to the rejected promise."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx",metastring:"{1-3}","{1-3}":!0},'checkError: (error) => {\n    if (error.status === 401) {\n        return Promise.reject("custom-url");\n    }\n    ...\n}\n')),(0,i.kt)("div",{className:"admonition admonition-important alert alert--info"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"important")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"Redirection path given to ",(0,i.kt)("inlineCode",{parentName:"p"},"checkError")," overrides the one on ",(0,i.kt)("inlineCode",{parentName:"p"},"logout"),"."))),(0,i.kt)("br",null),(0,i.kt)("h3",{id:"checkauth"},(0,i.kt)("inlineCode",{parentName:"h3"},"checkAuth")),(0,i.kt)("p",null,"Whenever route changes, ",(0,i.kt)("inlineCode",{parentName:"p"},"checkAuth")," from ",(0,i.kt)("inlineCode",{parentName:"p"},"authProvider")," is called.",(0,i.kt)("br",{parentName:"p"}),"\n","When ",(0,i.kt)("inlineCode",{parentName:"p"},"checkAuth")," returns a rejected promise, authentication is cancelled and the app is redirected to an error page that allows the user to navigate to the root path which shows a login page by default."),(0,i.kt)("p",null,"Checking the authentication data can be easily done here. For example if the authentication data is stored in the local storage:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="auth-provider.ts"',title:'"auth-provider.ts"'},'const authProvider = {\n   ...\n// highlight-start\n    checkAuth: () => {\n        localStorage.getItem("auth") ? Promise.resolve() : Promise.reject();\n    },\n// highlight-end\n   ...\n};\n')),(0,i.kt)("br",null),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"A custom ",(0,i.kt)("inlineCode",{parentName:"li"},"redirectPath")," can be given to ",(0,i.kt)("inlineCode",{parentName:"li"},"Promise")," reject from the ",(0,i.kt)("inlineCode",{parentName:"li"},"checkAuth"),". If you want to redirect yourself to a certain URL.")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx"},'const authProvider = {\n   ...\n// highlight-next-line\n    checkAuth: () => {\n        localStorage.getItem("auth")\n            ? Promise.resolve()\n            : Promise.reject({ redirectPath: "/custom-url" });\n    },\n   ...\n};\n')),(0,i.kt)("br",null),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"checkAuth")," method will be accessible via ",(0,i.kt)("inlineCode",{parentName:"p"},"useAuthenticated")," auth hook."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx"},'import { useAuthenticated } from "@pankod/refine";\n\nconst {\n    isSuccess,\n    isLoading,\n    isError,\n    refetch: checkAuth,\n} = useAuthenticated();\n')),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},(0,i.kt)("a",{parentName:"p",href:"/docs/next/api-references/hooks/auth/useAuthenticated"},"Refer to useAuthenticated documentation for more information. ","\u2192"))),(0,i.kt)("br",null),(0,i.kt)("h3",{id:"getpermissions"},(0,i.kt)("inlineCode",{parentName:"h3"},"getPermissions")),(0,i.kt)("p",null,"You may want to require authorization for certain parts of the app based on the permissions that current user have. Permission logic can be defined in the ",(0,i.kt)("inlineCode",{parentName:"p"},"getPermission")," method."),(0,i.kt)("p",null,"We will show you how to give authorization based on roles determined in ",(0,i.kt)("inlineCode",{parentName:"p"},"getPermissions"),"."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="auth-provider.ts"',title:'"auth-provider.ts"'},'const mockUsers = [\n    {\n        username: "admin",\n// highlight-next-line\n        roles: ["admin"],\n    },\n    {\n        username: "editor",\n// highlight-next-line\n        roles: ["editor"],\n    }\n];\n\nconst authProvider = {\n...\n// highlight-start\n    getPermissions: () => {\n        const auth = localStorage.getItem("auth");\n        if (auth) {\n            const parsedUser = JSON.parse(auth);\n            return Promise.resolve(parsedUser.roles);\n        }\n        return Promise.reject();\n    },\n// highlight-end\n...\n};\n')),(0,i.kt)("br",null),(0,i.kt)("p",null,"Data that ",(0,i.kt)("inlineCode",{parentName:"p"},"getPermissions")," resolves with is accesible by the ",(0,i.kt)("a",{parentName:"p",href:"/docs/next/api-references/hooks/auth/usePermissions"},(0,i.kt)("inlineCode",{parentName:"a"},"usePermissions"))," hook."),(0,i.kt)("p",null,"For example let's say that only the admins must be able to create new posts from the list page.\n",(0,i.kt)("inlineCode",{parentName:"p"},"<List>")," can show a button for creating new posts. If it's required that only admins can create new posts, this button must be only accessible to users who has the ",(0,i.kt)("inlineCode",{parentName:"p"},'"admin"')," role."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="pages/post/list"',title:'"pages/post/list"'},'import { List, usePermissions } from "@pankod/refine";\n\nexport const PostList: React.FC = () => {\n    const { data: permissionsData } = usePermissions();\n\n    return <List canCreate={permissionsData?.includes("admin")}>...</List>;\n};\n')),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},(0,i.kt)("a",{parentName:"p",href:"/docs/next/api-references/hooks/auth/usePermissions"},"Refer to usePermissions documentation for more information. ","\u2192"))),(0,i.kt)("br",null),(0,i.kt)("h3",{id:"getuseridentity"},(0,i.kt)("inlineCode",{parentName:"h3"},"getUserIdentity")),(0,i.kt)("p",null,"User data can be accessed within the app by returning a resolved Promise in the ",(0,i.kt)("inlineCode",{parentName:"p"},"getUserIdentity")," method."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="auth-provider.ts"',title:'"auth-provider.ts"'},'const authProvider = {\n...\n// highlight-start\n    getUserIdentity: () => {\n        const auth = localStorage.getItem("auth");\n        if (auth) {\n            const parsedUser = JSON.parse(auth);\n            return Promise.resolve(parsedUser.username);\n        }\n        return Promise.reject();\n    }\n// highlight-end\n...\n};\n')),(0,i.kt)("br",null),(0,i.kt)("p",null,"The resolved data can be acquired using the ",(0,i.kt)("a",{parentName:"p",href:"/docs/next/api-references/hooks/auth/useGetIdentity"},(0,i.kt)("inlineCode",{parentName:"a"},"useGetIdentity"))," hook."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx"},'import { useGetIdentity } from "@pankod/refine";\n\nconst { data: userIdentity } = useGetIdentity<string>();\n// userIdentity: "admin"\n')),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},(0,i.kt)("a",{parentName:"p",href:"/docs/next/api-references/hooks/auth/useGetIdentity"},"Refer to useGetIdentity documentation for more information. ","\u2192"))),(0,i.kt)("br",null),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="auth-provider.ts"',title:'"auth-provider.ts"'},'const authProvider = {\n    ...\n// highlight-start\n    getUserIdentity: () => {\n        const user = {\n            name: "Jane Doe",\n            avatar: "https://i.pravatar.cc/150?u=refine",\n        };\n        return Promise.resolve(user);\n    },\n// highlight-end\n    ...\n};\n')),(0,i.kt)("p",null,"If the resolved data has a ",(0,i.kt)("inlineCode",{parentName:"p"},"name")," or ",(0,i.kt)("inlineCode",{parentName:"p"},"avatar")," property, ",(0,i.kt)("strong",{parentName:"p"},"refine")," renders a suitable header for that data:"),(0,i.kt)("br",null),(0,i.kt)("div",{class:"img-container"},(0,i.kt)("div",{class:"window"},(0,i.kt)("div",{class:"control red"}),(0,i.kt)("div",{class:"control orange"}),(0,i.kt)("div",{class:"control green"})),(0,i.kt)("img",{src:l.Z,alt:"Header View"})),(0,i.kt)("br",null),(0,i.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"If the resolved data has a ",(0,i.kt)("inlineCode",{parentName:"p"},"name")," property, a name text appears; if it has an ",(0,i.kt)("inlineCode",{parentName:"p"},"avatar")," property, an avatar image appears; if it has a ",(0,i.kt)("inlineCode",{parentName:"p"},"name")," and an ",(0,i.kt)("inlineCode",{parentName:"p"},"avatar")," property, they both appear together."))),(0,i.kt)("br",null),(0,i.kt)("h2",{id:"setting-authorization-credentials"},"Setting Authorization Credentials"),(0,i.kt)("p",null,"After user logs in, their credentials can be sent along with the API request by configuring the ",(0,i.kt)("a",{parentName:"p",href:"/docs/next/api-references/providers/data-provider"},(0,i.kt)("inlineCode",{parentName:"a"},"dataProvider")),". A custom ",(0,i.kt)("inlineCode",{parentName:"p"},"httpClient")," can be passed to ",(0,i.kt)("a",{parentName:"p",href:"/docs/next/api-references/providers/data-provider"},(0,i.kt)("inlineCode",{parentName:"a"},"dataProvider"))," to include configurations like cookies and request headers."),(0,i.kt)("p",null,"We'll show how to add a token acquired from the ",(0,i.kt)("inlineCode",{parentName:"p"},"login")," method to the ",(0,i.kt)("strong",{parentName:"p"},"Authorization")," header of the ",(0,i.kt)("strong",{parentName:"p"},"HTTP")," requests."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="App.tsx"',title:'"App.tsx"'},'...\n// highlight-start\nimport axios from "axios";\n\nconst axiosInstance = axios.create();\n\nconst mockUsers = [\n    { username: "admin", token: "123" },\n    { username: "editor", token: "321" }\n];\n// highlight-end\n\nconst App = () => {\n    const authProvider: AuthProvider = {\n// highlight-next-line\n        login: ({ username, password }) => {\n                // Suppose we actually send a request to the back end here.\n                const user = mockUsers.find((item) => item.username === username);\n\n                if (user) {\n                    localStorage.setItem("auth", JSON.stringify(user));\n\n                    axiosInstance.defaults.headers = {\n                        Authorization: `Bearer ${user.token}`,\n                    };\n\n                    return Promise.resolve();\n                }\n                return Promise.reject();\n            },\n// highlight-end\n            ...\n        };\n\n    return (\n        <Refine\n// highlight-next-line\n            authProvider={authProvider}\n            routerProvider={routerProvider}\n            dataProvider={dataProvider(API_URL, axiosInstance)}\n        />\n    );\n}\n')),(0,i.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"We recommend using ",(0,i.kt)("strong",{parentName:"p"},"axios")," as the ",(0,i.kt)("strong",{parentName:"p"},"HTTP")," client with the ",(0,i.kt)("strong",{parentName:"p"},"@pankod/refine-simple-rest")," ",(0,i.kt)("a",{parentName:"p",href:"/docs/next/api-references/providers/data-provider"},(0,i.kt)("inlineCode",{parentName:"a"},"dataProvider")),". Other ",(0,i.kt)("strong",{parentName:"p"},"HTTP")," clients can also be preferred."))),(0,i.kt)("h2",{id:"hooks-and-components"},"Hooks and Components"),(0,i.kt)("p",null,"These hooks can be used with the ",(0,i.kt)("inlineCode",{parentName:"p"},"authProvider")," authentication and authorization operations."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/docs/next/api-references/hooks/auth/useAuthenticated"},"useAuthenticated")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/docs/next/api-references/hooks/auth/useCheckError"},"useCheckError")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/docs/next/api-references/hooks/auth/useGetIdentity"},"useGetIdentity")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/docs/next/api-references/hooks/auth/useLogin"},"useLogin")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/docs/next/api-references/hooks/auth/useLogout"},"useLogout")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/docs/next/api-references/hooks/auth/usePermissions"},"usePermissions")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/docs/next/api-references/components/auth/authenticated"},(0,i.kt)("inlineCode",{parentName:"a"},"<Authenticated />")))),(0,i.kt)("br",null),(0,i.kt)("h2",{id:"api-reference"},"API Reference"),(0,i.kt)("h3",{id:"properties"},"Properties"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Property"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"),(0,i.kt)("th",{parentName:"tr",align:null},"Resolve condition"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"login ",(0,i.kt)("div",{className:" required"},"Required")),(0,i.kt)("td",{parentName:"tr",align:null},"Logs user in"),(0,i.kt)("td",{parentName:"tr",align:null},"Auth confirms login")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"logout ",(0,i.kt)("div",{className:" required"},"Required")),(0,i.kt)("td",{parentName:"tr",align:null},"Logs user out"),(0,i.kt)("td",{parentName:"tr",align:null},"Auth confirms logout")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"checkAuth ",(0,i.kt)("div",{className:" required"},"Required")),(0,i.kt)("td",{parentName:"tr",align:null},"Checks credentials on each route changes"),(0,i.kt)("td",{parentName:"tr",align:null},"Authentication still persist")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"checkError ",(0,i.kt)("div",{className:" required"},"Required")),(0,i.kt)("td",{parentName:"tr",align:null},"Checks if a dataProvider returns an error"),(0,i.kt)("td",{parentName:"tr",align:null},"Data provider doesn't return an error")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("div",{className:"required-block"},(0,i.kt)("div",null,"getPermissions")," ",(0,i.kt)("div",{className:"required"},"Required"))),(0,i.kt)("td",{parentName:"tr",align:null},"Can be use to get user credentials"),(0,i.kt)("td",{parentName:"tr",align:null},"Authorization roles accepted")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"getUserIdentity"),(0,i.kt)("td",{parentName:"tr",align:null},"Can be use to get user identity"),(0,i.kt)("td",{parentName:"tr",align:null},"User identity avaliable to return")))),(0,i.kt)("br",null),(0,i.kt)("h2",{id:"live-codesandbox-example"},"Live Codesandbox Example"),(0,i.kt)("iframe",{src:"https://codesandbox.io/embed/refine-authentication-example-rz7l8?autoresize=1&fontsize=14&theme=dark&view=preview",style:{width:"100%",height:"80vh",border:"0px",borderRadius:"8px",overflow:"hidden"},title:"refine-authorization-example",allow:"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking",sandbox:"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"}))}k.isMDXComponent=!0},55206:function(e,t,n){t.Z=n.p+"assets/images/header-98aa18d109192c9c5b2ff7cc426288f6.png"},38047:function(e,t,n){t.Z=n.p+"assets/images/login-db520afa32e5b9d49734bccd3d8f23c3.png"},80133:function(e,t,n){t.Z=n.p+"assets/images/logout-60a5f718394f92d7781107cdcb39d3e0.gif"}}]);